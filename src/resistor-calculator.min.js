function Band(a,b){var b=b,d="black";return this.colorValues={black:0,brown:1,red:2,orange:3,yellow:4,green:5,blue:6,violet:7,grey:8,white:9},this.resistor=function(){return a},this.position=function(){return b},this.value=function(){return this.colorValues[d]},this.setColor=function(a){return d=a},this.color=function(){return d},this}function ColorSelector(a,b,c){function i(i){function j(){a.setColor(i),d.attr({fill:a.color()}),k(),l()}function k(){f.output.attr({text:f.value()})}function l(){f.toleranceOutput.attr({text:f.tolerance()})}var i=i;return this.draw=function(a){var d=c+a*g,f=e.rect(b,d,h,g);f.attr({fill:i}),f.click(j)},this}var d=a.svg,e=d.paper,f=a.resistor();console.log(f);var g=30,h=100,j=0;for(color in a.colorValues){var k=new i(color);k.draw(j),j+=1}return this}function MultiplierBand(a){var b=new Band(a,4);return b.setColor("black"),b.colorValues={black:1,brown:10,red:100,orange:1e3,yellow:1e4,green:1e5,blue:1e6,gold:.1,silver:.01},b}function Resistor(){var a=new Band(this,1),b=new Band(this,2),c=new MultiplierBand(this),d=new ToleranceBand(this);return this.firstBand=function(){return a},this.secondBand=function(){return b},this.multiplierBand=function(){return c},this.toleranceBand=function(){return d},this.value=function(){var d=""+a.value()+b.value(),e=parseInt(d)*c.value();return e/1e6>1?e/1e6+" M":e/1e3>1?e/1e3+" K":e},this.tolerance=function(){return 100*d.value()+" %"},this}function ToleranceBand(a){var b=new Band(a,5);return b.setColor("gold"),b.colorValues={brown:.01,red:.02,gold:.05,silver:.1},b}!function(){var a=Raphael("paper",700,800),b=new Resistor;b.svg=a.set(),b.svg.push(a.rect(50,50,600,4),a.rect(250,22,200,58)),b.svg.attr({fill:"white",stroke:"black","stroke-width":"2"}),b.outputLabel=a.text(650,114,"ohms"),b.outputLabel.attr({"font-size":"18px","text-anchor":"end"}),b.output=a.text(600,114,b.value()),b.output.attr({"font-size":"18px","text-anchor":"end"}),b.toleranceLabel=a.set(),b.toleranceLabel.push(a.text(595,138,"+"),a.text(595,136,"_")),b.toleranceLabel.attr({"font-size":"18px","text-anchor":"end"}),b.toleranceOutput=a.text(650,138,b.tolerance()),b.toleranceOutput.attr({"font-size":"18px","text-anchor":"end"}),b.firstBand().svg=a.rect(270,22,18,58),b.firstBand().svg.attr({fill:b.firstBand().color()}),b.secondBand().svg=a.rect(300,22,18,58),b.secondBand().svg.attr({fill:b.firstBand().color()}),b.multiplierBand().svg=a.rect(330,22,18,58),b.multiplierBand().svg.attr({fill:b.multiplierBand().color()}),b.toleranceBand().svg=a.rect(400,22,18,58),b.toleranceBand().svg.attr({fill:b.toleranceBand().color()}),new ColorSelector(b.firstBand(),50,100),new ColorSelector(b.secondBand(),170,100),new ColorSelector(b.multiplierBand(),290,100),new ColorSelector(b.toleranceBand(),410,100)}();
